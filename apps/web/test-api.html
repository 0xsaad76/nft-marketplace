<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Test</title>
</head>

<body>
    <h1>Testing NFT API</h1>
    <div id="status">Loading...</div>
    <div id="results"></div>

    <script>
        const API_BASE_URL = 'https://localhost:3000/';
        const MARKETPLACE_ADDRESS = '11111111111111111111111111111111';

        async function testAPI() {
            const statusDiv = document.getElementById('status');
            const resultsDiv = document.getElementById('results');

            try {
                statusDiv.textContent = 'Fetching NFTs...';
                console.log('Fetching from:', `${API_BASE_URL}?owner=${MARKETPLACE_ADDRESS}`);

                const response = await fetch(`${API_BASE_URL}?owner=${MARKETPLACE_ADDRESS}`);
                console.log('Response:', response);

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                console.log('Data:', data);

                statusDiv.textContent = `Success! Found ${data.length} NFTs`;
                resultsDiv.innerHTML = `<pre>${JSON.stringify(data.slice(0, 2), null, 2)}</pre>`;
            } catch (error) {
                console.error('Error:', error);
                statusDiv.textContent = `Error: ${error.message}`;
                statusDiv.style.color = 'red';
            }
        }

        testAPI();
    </script>
</body>

</html>